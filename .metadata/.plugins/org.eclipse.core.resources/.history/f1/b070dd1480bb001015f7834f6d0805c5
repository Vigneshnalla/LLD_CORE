package main.java.com.vignesh.librarymanagement;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.UUID;

import main.java.com.vignesh.librarymanagement.enums.AccountStatus;
import main.java.com.vignesh.librarymanagement.model.book.Book;
import main.java.com.vignesh.librarymanagement.model.people.Address;
import main.java.com.vignesh.librarymanagement.model.people.Librarian;
import main.java.com.vignesh.librarymanagement.model.people.LibraryCard;
import main.java.com.vignesh.librarymanagement.model.people.Member;

public class LibraryManagementSystem {
	private String id;
	private Address address;
	private LibraryManagementSystem instance;
	
	private List<Book> books;
	private Map<String, Member> members;
	private Map<String, Librarian> librarians;
	
	public boolean isValidMember(String memberId) {
		Member member = members.get(memberId);
		
		if(member == null) return false;
		
		if(member.getAccountStatus() != AccountStatus.ACTIVE) return false;
		
		LibraryCard card = member.getLibraryCard();
		if(card == null || !card.isValid()) {
			System.out.println("Library card invalid or expired for member: " + account.getId());
			return false;
		}
		
		return true;
	}
	
	
	
	
	
	
	
	
	
	private LibraryManagementSystem() {
		books = new ArrayList<>();
		members = new HashMap<>();
		librarians = new HashMap<>();
		id = UUID.randomUUID().toString();
	}
	
	public LibraryManagementSystem getInstance() {
		if(instance == null) 
			instance = new LibraryManagementSystem();
			
		return instance;
		
	}
	
	
}
