package main.java.com.vignesh.librarymanagement.service;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import java.util.stream.Collectors;

import main.java.com.vignesh.librarymanagement.model.book.BookItem;

public class Catalog{
    private List<BookItem> bookItems;

    public Catalog(List<BookItem> bookItems) {
        this.bookItems = bookItems;
    }

    public List<BookItem> getBookItems() {
        return new ArrayList<>(bookItems);
    }
    
    public boolean addBookItem(BookItem bookItem) {
    	return bookItems.add(bookItem);
    }
    public boolean removeBookItem(BookItem bookItem) {
    	return bookItems.remove(bookItem);
    }

    public List<BookItem> findBookByTitle(String title) {
        return bookItems.stream()
            .filter(book -> book.getTitle().equalsIgnoreCase(title))
            .collect(Collectors.toList());
    }

    public List<BookItem> findBookByISBN(String isbn) {
        return bookItems.stream()
            .filter(book -> book.getISBN().equalsIgnoreCase(isbn))
            .collect(Collectors.toList());
    }

    public List<BookItem> findBookByPublishedDate(Date date){
        return bookItems.stream()
                .filter(book -> book.getPublishedDate().equals(date))
                .collect(Collectors.toList());
    }
    
	public List<BookItem> searchBookBySubject(String subject) {
		return bookItems.stream().filter(book -> book.getSubject().
                equals(subject)).
                collect(Collectors.toList());
	}

}