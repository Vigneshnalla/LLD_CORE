package main.java.com.vignesh.librarymanagement.model.book;

import java.util.Date;
import java.util.List;
import java.util.Objects;
import main.java.com.vignesh.librarymanagement.enums.BookFormat;
import main.java.com.vignesh.librarymanagement.enums.BookStatus;

public class BookItem extends Book {
    private String barcode;
    private final boolean isReferenceOnly;
    private double price;
    private BookStatus bookStatus;
    private BookFormat bookFormat;
    private Rack rackLocation;

    public BookItem(String title, String ISBN, Date publishedDate, String subject, List<Author> authors,
                    String description, String language, int numberOfPages,
                    String barcode, boolean isReferenceOnly, double price,
                    BookStatus bookStatus, BookFormat bookFormat, Rack rackLocation) {

        super(title, ISBN, publishedDate, subject, authors, description, language, numberOfPages);
        this.barcode = barcode;
        this.isReferenceOnly = isReferenceOnly;
        this.price = price;
        this.bookStatus = bookStatus;
        this.bookFormat = bookFormat;
        this.rackLocation = rackLocation;
    }

    public String getBarcode() { return barcode; }
    public void setBarcode(String barcode) { this.barcode = barcode; }

    public double getPrice() { return price; }
    public void setPrice(double price) { this.price = price; }

    public BookStatus getBookStatus() { return bookStatus; }
    public void setBookStatus(BookStatus bookStatus) { this.bookStatus = bookStatus; }

    public BookFormat getBookFormat() { return bookFormat; }
    public void setBookFormat(BookFormat bookFormat) { this.bookFormat = bookFormat; }

    public Rack getRackLocation() { return rackLocation; }
    public void setRackLocation(Rack rackLocation) { this.rackLocation = rackLocation; }

    public boolean isReferenceOnly() { return isReferenceOnly; }

    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        BookItem other = (BookItem) obj;
        return Objects.equals(barcode, other.barcode);
    }

    @Override
    public int hashCode() {
        return Objects.hash(barcode);
    }

    @Override
    public String toString() {
        return "BookItem [barcode=" + barcode + ", title=" + getTitle() +
               ", status=" + bookStatus + ", rack=" + rackLocation + "]";
    }
}
